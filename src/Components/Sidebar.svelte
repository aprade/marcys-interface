<script lang="ts">
  import DialogAdd from './Dialog/Add.svelte';
  import DialogRemove from './Dialog/Remove.svelte';
  import DialogSelect from './Dialog/Select.svelte';

  let showAddDialog: boolean = false;
  let showRemoveDialog: boolean = false;
  let showSelectDialog: boolean = false;

  $: showAddDialog;
  $: showRemoveDialog;
  $: showSelectDialog;
</script>

<div class="sidebar">
  <div class="item logo" />

  <div class="menu">
    <div class="top-menu">
      <div class="item" on:click={() => (showSelectDialog = true)}>
        <svg
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.3835 0.866227C11.1491 0.631888 10.8312 0.500244 10.4998 0.500244C10.1683 0.500244 9.85044 0.631888 9.61603 0.866227L0.866026 9.61623C0.638329 9.85198 0.512336 10.1677 0.515184 10.4955C0.518032 10.8232 0.649493 11.1367 0.881253 11.3685C1.11301 11.6003 1.42653 11.7317 1.75427 11.7346C2.08202 11.7374 2.39777 11.6114 2.63353 11.3837L2.99978 11.0175V19.25C2.99978 19.5815 3.13147 19.8994 3.36589 20.1339C3.60031 20.3683 3.91826 20.5 4.24978 20.5H6.74978C7.0813 20.5 7.39924 20.3683 7.63366 20.1339C7.86808 19.8994 7.99978 19.5815 7.99978 19.25V16.75C7.99978 16.4185 8.13147 16.1005 8.36589 15.8661C8.60031 15.6317 8.91826 15.5 9.24978 15.5H11.7498C12.0813 15.5 12.3992 15.6317 12.6337 15.8661C12.8681 16.1005 12.9998 16.4185 12.9998 16.75V19.25C12.9998 19.5815 13.1315 19.8994 13.3659 20.1339C13.6003 20.3683 13.9183 20.5 14.2498 20.5H16.7498C17.0813 20.5 17.3992 20.3683 17.6337 20.1339C17.8681 19.8994 17.9998 19.5815 17.9998 19.25V11.0175L18.366 11.3837C18.6018 11.6114 18.9175 11.7374 19.2453 11.7346C19.573 11.7317 19.8865 11.6003 20.1183 11.3685C20.3501 11.1367 20.4815 10.8232 20.4844 10.4955C20.4872 10.1677 20.3612 9.85198 20.1335 9.61623L11.3835 0.866227Z"
          />
        </svg>

        <div class="message-hover">Dashboard</div>
      </div>

      <div class="item">
        <svg
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M10.5 20.5C13.1522 20.5 15.6957 19.4464 17.5711 17.5711C19.4464 15.6957 20.5 13.1522 20.5 10.5C20.5 7.84784 19.4464 5.3043 17.5711 3.42893C15.6957 1.55357 13.1522 0.5 10.5 0.5C7.84784 0.5 5.3043 1.55357 3.42893 3.42893C1.55357 5.3043 0.5 7.84784 0.5 10.5C0.5 13.1522 1.55357 15.6957 3.42893 17.5711C5.3043 19.4464 7.84784 20.5 10.5 20.5ZM15.1337 8.88375C15.3614 8.648 15.4874 8.33224 15.4846 8.0045C15.4817 7.67675 15.3503 7.36324 15.1185 7.13148C14.8868 6.89972 14.5732 6.76826 14.2455 6.76541C13.9178 6.76256 13.602 6.88855 13.3663 7.11625L9.25 11.2325L7.63375 9.61625C7.398 9.38855 7.08224 9.26256 6.7545 9.26541C6.42675 9.26826 6.11324 9.39972 5.88148 9.63148C5.64972 9.86324 5.51826 10.1768 5.51541 10.5045C5.51256 10.8322 5.63855 11.148 5.86625 11.3837L8.36625 13.8837C8.60066 14.1181 8.91854 14.2497 9.25 14.2497C9.58146 14.2497 9.89934 14.1181 10.1337 13.8837L15.1337 8.88375Z"
          />
        </svg>

        <div class="message-hover">Online</div>
      </div>

      <div class="item">
        <svg
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M20.5 10.5C20.5 13.1522 19.4464 15.6957 17.5711 17.5711C15.6957 19.4464 13.1522 20.5 10.5 20.5C7.84784 20.5 5.3043 19.4464 3.42893 17.5711C1.55357 15.6957 0.5 13.1522 0.5 10.5C0.5 7.84784 1.55357 5.3043 3.42893 3.42893C5.3043 1.55357 7.84784 0.5 10.5 0.5C13.1522 0.5 15.6957 1.55357 17.5711 3.42893C19.4464 5.3043 20.5 7.84784 20.5 10.5ZM11.75 15.5C11.75 15.8315 11.6183 16.1495 11.3839 16.3839C11.1495 16.6183 10.8315 16.75 10.5 16.75C10.1685 16.75 9.85054 16.6183 9.61612 16.3839C9.3817 16.1495 9.25 15.8315 9.25 15.5C9.25 15.1685 9.3817 14.8505 9.61612 14.6161C9.85054 14.3817 10.1685 14.25 10.5 14.25C10.8315 14.25 11.1495 14.3817 11.3839 14.6161C11.6183 14.8505 11.75 15.1685 11.75 15.5ZM10.5 4.25C10.1685 4.25 9.85054 4.3817 9.61612 4.61612C9.3817 4.85054 9.25 5.16848 9.25 5.5V10.5C9.25 10.8315 9.3817 11.1495 9.61612 11.3839C9.85054 11.6183 10.1685 11.75 10.5 11.75C10.8315 11.75 11.1495 11.6183 11.3839 11.3839C11.6183 11.1495 11.75 10.8315 11.75 10.5V5.5C11.75 5.16848 11.6183 4.85054 11.3839 4.61612C11.1495 4.3817 10.8315 4.25 10.5 4.25Z"
          />
        </svg>

        <div class="message-hover">Offline</div>
      </div>
    </div>

    <div class="bottom-menu">
      <div class="item" on:click={() => (showAddDialog = true)}>
        <svg
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M10.5 20.5C13.1522 20.5 15.6957 19.4464 17.5711 17.5711C19.4464 15.6957 20.5 13.1522 20.5 10.5C20.5 7.84784 19.4464 5.3043 17.5711 3.42893C15.6957 1.55357 13.1522 0.5 10.5 0.5C7.84784 0.5 5.3043 1.55357 3.42893 3.42893C1.55357 5.3043 0.5 7.84784 0.5 10.5C0.5 13.1522 1.55357 15.6957 3.42893 17.5711C5.3043 19.4464 7.84784 20.5 10.5 20.5ZM11.75 6.75C11.75 6.41848 11.6183 6.10054 11.3839 5.86612C11.1495 5.6317 10.8315 5.5 10.5 5.5C10.1685 5.5 9.85054 5.6317 9.61612 5.86612C9.3817 6.10054 9.25 6.41848 9.25 6.75V9.25H6.75C6.41848 9.25 6.10054 9.3817 5.86612 9.61612C5.6317 9.85054 5.5 10.1685 5.5 10.5C5.5 10.8315 5.6317 11.1495 5.86612 11.3839C6.10054 11.6183 6.41848 11.75 6.75 11.75H9.25V14.25C9.25 14.5815 9.3817 14.8995 9.61612 15.1339C9.85054 15.3683 10.1685 15.5 10.5 15.5C10.8315 15.5 11.1495 15.3683 11.3839 15.1339C11.6183 14.8995 11.75 14.5815 11.75 14.25V11.75H14.25C14.5815 11.75 14.8995 11.6183 15.1339 11.3839C15.3683 11.1495 15.5 10.8315 15.5 10.5C15.5 10.1685 15.3683 9.85054 15.1339 9.61612C14.8995 9.3817 14.5815 9.25 14.25 9.25H11.75V6.75Z"
            fill="#FBFBFB"
          />
        </svg>

        <div class="message-hover">Add new</div>
      </div>

      <div class="item" on:click={() => (showRemoveDialog = true)}>
        <svg
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M10.5 20.5C13.1522 20.5 15.6957 19.4464 17.5711 17.5711C19.4464 15.6957 20.5 13.1522 20.5 10.5C20.5 7.84784 19.4464 5.3043 17.5711 3.42893C15.6957 1.55357 13.1522 0.5 10.5 0.5C7.84784 0.5 5.3043 1.55357 3.42893 3.42893C1.55357 5.3043 0.5 7.84784 0.5 10.5C0.5 13.1522 1.55357 15.6957 3.42893 17.5711C5.3043 19.4464 7.84784 20.5 10.5 20.5ZM8.88375 7.11625C8.648 6.88855 8.33224 6.76256 8.0045 6.76541C7.67675 6.76826 7.36324 6.89972 7.13148 7.13148C6.89972 7.36324 6.76826 7.67675 6.76541 8.0045C6.76256 8.33224 6.88855 8.648 7.11625 8.88375L8.7325 10.5L7.11625 12.1163C6.99686 12.2316 6.90163 12.3695 6.83612 12.522C6.77061 12.6745 6.73613 12.8385 6.73469 13.0045C6.73324 13.1705 6.76487 13.3351 6.82772 13.4887C6.89057 13.6423 6.98339 13.7819 7.10076 13.8992C7.21812 14.0166 7.35769 14.1094 7.51131 14.1723C7.66493 14.2351 7.82953 14.2668 7.9955 14.2653C8.16148 14.2639 8.3255 14.2294 8.47801 14.1639C8.63051 14.0984 8.76844 14.0031 8.88375 13.8837L10.5 12.2675L12.1163 13.8837C12.352 14.1114 12.6678 14.2374 12.9955 14.2346C13.3232 14.2317 13.6368 14.1003 13.8685 13.8685C14.1003 13.6368 14.2317 13.3232 14.2346 12.9955C14.2374 12.6678 14.1114 12.352 13.8837 12.1163L12.2675 10.5L13.8837 8.88375C14.1114 8.648 14.2374 8.33224 14.2346 8.0045C14.2317 7.67675 14.1003 7.36324 13.8685 7.13148C13.6368 6.89972 13.3232 6.76826 12.9955 6.76541C12.6678 6.76256 12.352 6.88855 12.1163 7.11625L10.5 8.7325L8.88375 7.11625Z"
            fill="#FBFBFB"
          />
        </svg>

        <div class="message-hover">Remove one</div>
      </div>
    </div>
  </div>

  <DialogAdd bind:show={showAddDialog} />
  <DialogRemove bind:show={showRemoveDialog} />
  <DialogSelect bind:show={showSelectDialog} />
</div>

<style>
  .sidebar {
    background-color: #191d20;

    height: 100vh;
    width: fit-content;
    width: -moz-fit-content;
    padding: 0 25px;

    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .menu {
    flex-grow: 1;

    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .bottom-menu {
    margin-bottom: 30px;
  }

  .item {
    position: relative;

    width: 50px;
    height: 50px;

    border-radius: 10px;

    margin-top: 25px;

    display: flex;
    align-items: center;
    justify-content: center;

    transition: all 0.3s ease-in-out;
  }

  .item:hover {
    background-color: #272a31;
    filter: drop-shadow(4px 4px 20px rgba(39, 42, 49, 0.1));
  }

  .item svg {
    fill: #272a31;

    transition: all 0.3s ease-in-out;
  }

  .item:hover svg {
    fill: #fbfbfb;
  }

  .message-hover {
    background-color: #17181a;
    color: white;

    font-weight: 600;
    white-space: nowrap;

    display: none;
    position: absolute;

    padding: 5px 15px 7px 15px;

    border-radius: 5px;
    border: 0.4px solid #28292d;
    box-sizing: border-box;

    left: 70px;
    top: 50%;
    transform: translate(0, -50%);
  }

  .item:hover .message-hover {
    display: block;
    filter: drop-shadow(4px 4px 20px rgba(39, 42, 49, 0.1));
  }

  .logo {
    background-color: #fbfbfb;

    margin-top: 30px;
    margin-bottom: 5px;
  }

  .bottom-menu {
    align-self: bottom;
  }
</style>
